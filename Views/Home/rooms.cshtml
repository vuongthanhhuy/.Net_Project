@using FinalProject.Services
@model RoomsViews
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<body>
    <div class="block-30 block-30-sm item" style="background-image: url('/images/bg_2.jpg');"
         data-stellar-background-ratio="0.5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-10">
                    <span class="subheading-sm">Rooms</span>
                    <h2 class="heading">Rooms &amp; Suites</h2>
                </div>
            </div>
        </div>
    </div>
    <div class="site-section bg-light">
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-12">
                    <div class="block-32">
                        <form asp-controller="Home" asp-action="CheckAvailability" method="post">
                            <div class="row">
                                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                                    <label for="checkin">Check In</label>
                                    <div class="field-icon-wrap">
                                        <div class="icon"><span class="icon-calendar"></span></div>
                                        <input type="text" name="checkin_date" id="checkin_date" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                                    <label for="checkin">Check Out</label>
                                    <div class="field-icon-wrap">
                                        <div class="icon"><span class="icon-calendar"></span></div>
                                        <input type="text" name="checkout_date" id="checkout_date" class="form-control">
                                    </div>
                                </div>
                                <script>
                                    var day = new Date().getDate();
                                    var tomorrow = new Date().getDate() + 1;
                                    var month = new Date().getMonth();
                                    var year = new Date().getFullYear();

                                    // Mảng chứa tên tháng để sử dụng khi hiển thị
                                    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

                                    // Định dạng chuỗi ngày tháng năm và đặt giá trị mặc định cho ô input
                                    var formattedCheckInDate = day + " " + monthNames[month] + ", " + year;
                                    var formattedCheckOutDate = tomorrow + " " + monthNames[month] + ", " + year;
                                    document.getElementById("checkin_date").value = formattedCheckInDate;
                                    document.getElementById("checkout_date").value = formattedCheckOutDate;
                                </script>
                                <div class="col-md-6 mb-3 mb-md-0 col-lg-3">
                                    <div class="row">
                                        <div class="col-md-6 mb-3 mb-md-0">
                                            <label for="checkin">Adults</label>
                                            <div class="field-icon-wrap">
                                                <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                                <select name="adults" id="adults" class="form-control">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4+</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3 mb-md-0">
                                            <label for="checkin">Children</label>
                                            <div class="field-icon-wrap">
                                                <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                                                <select name="children" id="children" class="form-control">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4+</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-lg-3 align-self-end">
                                    <button class="btn btn-primary btn-block" onclick="submitForm()">Check Availabilty</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row mb-5">
                @foreach (var item in Model.TopRooms)
                {
                    <div class="col-md-12 mb-5">
                        <div class="block-3 d-md-flex">
                            <div class="image" style="background-image: url('/images/img_1.jpg'); "></div>
                            <div class="text">
                                <h2 class="heading">@item.Name</h2>
                                <div class="price"><sup>$</sup><span class="number">@item.Price</span><sub>/per night</sub></div>
                                <ul class="specs mb-5">
                                    <li><strong>Adults:</strong> @item.Adults </li>
                                    <li><strong>Categories:</strong> @item.Categories </li>
                                    <li><strong>Size:</strong> @item.Size <sup>m2</sup></li>
                                    <li><strong>Bed Type:</strong> @item.BedType </li>
                                </ul>
                                <p><button class="btn btn-primary py-3 px-5 booking">Chọn phòng</button></p>
                            </div>
                        </div>
                    </div>
                }

            </div>
            <div class="row mb-5 pt-5 justify-content-center">
                <div class="col-md-7 text-center section-heading">
                    <h2 class="heading">More Rooms</h2>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit, iusto, omnis! Quidem, sint,
                        impedit? Dicta eaque delectus tempora hic, corporis velit doloremque quod quam laborum, nobis iusto autem
                        culpa quaerat!
                    </p>
                </div>
            </div>
            <div class="row">
                @foreach (var item in Model.AllRooms)
                {
                    <div class="col-lg-4 mb-5">
                        <div class="block-34">
                            <div class="image" style="background-image: url('/images/img_1.jpg'); "></div>
                            <div class="text">
                                <h2 class="heading">@item.Name</h2>
                                <div class="price"><sup>$</sup><span class="number">@item.Price</span><sub>/per night</sub></div>
                                <ul class="specs mb-5">
                                    <li><strong>Adults:</strong> @item.Adults </li>
                                    <li><strong>Categories:</strong> @item.Categories </li>
                                    <li><strong>Size:</strong> @item.Size <sup>m2</sup></li>
                                    <li><strong>Bed Type:</strong> @item.BedType </li>
                                </ul>
                                <p><a href="#" class="btn btn-primary py-3 px-5 booking">Chọn phòng</a></p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="site-section bg-light">
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-7 section-heading">
                    <span class="subheading-sm">Reviews</span>
                    <h2 class="heading">Guest Reviews</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-lg-4">
                    <div class="block-33">
                        <div class="vcard d-flex mb-3">
                            <div class="image align-self-center"><img src="images/person_3.jpg" alt="Person here"></div>
                            <div class="name-text align-self-center">
                                <h2 class="heading">Martin Newmansfield</h2>
                                <span class="meta">Satisfied Customer</span>
                            </div>
                        </div>
                        <div class="text">
                            <blockquote>
                                <p>
                                    &rdquo; Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga aliquid. Atque dolore esse
                                    veritatis iusto eaque perferendis non dolorem fugiat voluptatibus vitae error ad itaque inventore
                                    accusantium tempore dolores sunt. &ldquo;
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="block-33">
                        <div class="vcard d-flex mb-3">
                            <div class="image align-self-center"><img src="images/person_2.jpg" alt="Person here"></div>
                            <div class="name-text align-self-center">
                                <h2 class="heading">Nancy Green</h2>
                                <span class="meta">Satisfied Customer</span>
                            </div>
                        </div>
                        <div class="text">
                            <blockquote>
                                <p>
                                    &rdquo; Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga aliquid. Atque dolore esse
                                    veritatis iusto eaque perferendis non dolorem fugiat voluptatibus vitae error ad itaque inventore
                                    accusantium tempore dolores sunt. &ldquo;
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="block-33">
                        <div class="vcard d-flex mb-3">
                            <div class="image align-self-center"><img src="images/person_1.jpg" alt="Person here"></div>
                            <div class="name-text align-self-center">
                                <h2 class="heading">Elizabeth Charles</h2>
                                <span class="meta">Satisfied Customer</span>
                            </div>
                        </div>
                        <div class="text">
                            <blockquote>
                                <p>
                                    &rdquo; Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga aliquid. Atque dolore esse
                                    veritatis iusto eaque perferendis non dolorem fugiat voluptatibus vitae error ad itaque inventore
                                    accusantium tempore dolores sunt. &ldquo;
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 </body>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<div class="modal" id="bookingModal" tabindex="-1">
    <div class="modal-dialog custom-width">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Chọn phòng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        
                        <!-- Cột chứa hình ảnh -->
                        <div class="col-md-6 d-flex align-items-center justify-content-center">
                            <img src="/images/img_1.jpg" class="img-fluid" alt="Image" style="max-width: 100%; height: auto;">
                        </div>
                        <!-- Cột chứa thông tin -->
                        <div class="col-md-6">
                            <h5 class="modal-title" id="customDialogLabel">Thông tin chi tiết</h5>
                            <div class="price"><sup>$</sup><span class="number">Price</span><sub>/per night</sub></div>
                            <ul class="specs mb-5">
                                <li><strong>Closet:</strong> Closet </li>
                                <li><strong>Bathroom:</strong> Bathroom </li>
                                <li><strong>AirConditioner:</strong>  AirConditioner</li>
                                <li><strong>Wifi:</strong> Wifi </li>
                                <li><strong>Special Features:</strong> Ocean View </li>
                                <li><strong>Check In:</strong> 19 November, 2023 </li>
                                <li><strong>Check Out:</strong> 20 November, 2023 </li>
                            </ul>
                            <h5 class="modal-title" id="customDialogLabel">Giá: 200.00</h5>
                        </div>
                    </div>
                </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary " onclick="saveChanges()">Đặt phòng</button>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    /* CSS tùy chỉnh để thiết lập chiều dài */
    .custom-width {
        max-width: 1000px; /* Đặt chiều dài tối đa mong muốn */
        width: 100%; /* Chiều rộng tối đa là 100% */
    }
</style>

<script>
    $(document).ready(function () {
        // Xử lý sự kiện click cho class "edit"
        $('.booking').on('click', function () {
            // Hiển thị modal ở đây
            // Ví dụ sử dụng Bootstrap Modal
            $('#bookingModal').modal('show');
        });
        // Hàm đóng modal
        function closeBookingModal() {
            $('#bookingModal').modal('hide');
        }
        // Hàm xử lý lưu chỉnh sửa (gọi khi người dùng nhấn "Save Changes")
        function saveChanges() {
            // Thực hiện các bước lưu chỉnh sửa ở đây
            // Sau khi lưu xong, đóng modal
            closeBookingModal();
        }
        function close() {
            // Thực hiện các bước lưu chỉnh sửa ở đây
            // Sau khi lưu xong, đóng modal
            closeBookingModal();
        }

    });
</script>
